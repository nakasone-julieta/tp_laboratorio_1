#include <stdio_ext.h>//siempre en linux
#include "utn.h"

int utn_getNumero(int *pNum,char*pTexto,char*pError, int minimo, int maximo,int reintento)//RECORDAR defino las variables y EL TIPO (y si es puntero)
{
	int retornoFuncion = -1;
	//int bufferInt;
	//dato ingresado por el usuario int bufferInt;
	for (int i= reintento; i >= 0; i --)// si la variable reinteno llega a 0, deja de iterar.
	{
		if (pNum != NULL && pTexto != NULL && pError != NULL && minimo <= maximo && reintento >= 0 )
			//la direccion de memoria a la que se apunta tiene que tener dato.
			// && mínimo no puede ser mayor a máximo && reintenos no puede ser negativo
		{
			printf ("%s", pTexto);//%s= array de caracteres
			__fpurge(stdin);
			scanf("%d", /*bufferInt*/pNum);
			if (/*bufferInt*/(*pNum)>= minimo && /*bufferInt*/(*pNum)<= maximo) //(cuando no uso bufferInt, uso el puntero de *pNum) uso (*pNum) porque me refiero al VALOR QUE GUARDA ESA DIRECC DE MEMORIA
			{
				//*pNum = bufferInt;
				retornoFuncion =0;
				break; //salgo de la iteración del DO para llegar directamente al return (en este caso)
			}
			else
			{
				printf ("%s", pError);
				reintento --; //si entra, la variable int reinteno (con su valor del main) desciende en 1
			}
		}
		else
		{
			printf ("%s", pError);
			reintento --;
		}
	}
	return retornoFuncion;
}
